<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Summernote</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
</head>
<body>
<div id="summernote"><p>Hello Summernote</p></div>
<script>
    $(document).ready(function() {
        $('#summernote').summernote({
            height: 300,
            minHeight: null,
            maxHeight: null,
            focus: true,
            callback:{
                onImageUpload: function(files, editor, welEditable){
                    for(var i = files.length -1; i >= 0; i--){
                        sendFile(files[i], this);
                    }
                }
            }
        });
    });

    function sendFile(file, el){
        var form_data = new FormData();
        form_data.append('file',file);
        $.ajax({
            data:form_data,
            type:"POST",
            url: '/mage',
            cache:false,
            contentType:false,
            enctype: 'multipart/form-data',
            processData: false,
            success: function(url){
                $(el).summernote('editor.insertImage', url);
                $('#imageBoard > ul').append('<li><img srd="' +url+'" width="480" height="auto"/></li>');
            }
        });
    }
  </script>
</body>
</html>